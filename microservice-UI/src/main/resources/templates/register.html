<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/layout}">
<head>
    <title>Inscription</title>
    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC3StaLZTw1Tb8vj9COuE1sMMBNh9OEtZ4&libraries=places&callback=initAutocomplete"
            async defer></script>
    <script type="text/javascript" th:src="@{/js/gmapsauto.js}"></script>
</head>
<body>
<div layout:fragment="content" th:remove="tag" class="container">
    <div class="in-content">
        <div class="row mt-5">
            <h1 class="mb-3 mt-3 mx-auto">Inscription</h1>
        </div>
        <div class="row">
            <div class="mx-auto col-md-6 mt-4">
                <form th:action="@{/Utilisateurs/add-user}" method="post" th:object="${user}">
                    <td th:if="${errorMessage ne null}">
                        <div class="alert alert-danger">
                            <span  th:text="${errorMessage}"/>
                        </div>
                    </td>
                    <div class="form-group">
                        <label for="email">Email</label>:
                        <input type="email"
                               id="email"
                               name="email"
                               class="form-control form-control-lg  "
                               autofocus="autofocus"
                               placeholder="Email">
                    </div>
                    <div class="form-group">
                        <label for="firstName">Prénom</label>:
                        <input type="text"
                               id="firstName"
                               name="firstName"
                               class="form-control form-control-lg  "
                               autofocus="autofocus"
                               placeholder="Prénom">
                    </div>
                    <div class="form-group">
                        <label for="lastName">Nom</label>:
                        <input type="text"
                               id="lastName"
                               name="lastName"
                               class="form-control form-control-lg  "
                               autofocus="autofocus"
                               placeholder="Nom">
                    </div>
                    <div class="form-group">
                        <label for="address">Adresse (à Puteaux)</label>:
                        <input type="text"
                               id="address"
                               name="address"
                               class="form-control form-control-lg  "
                               autofocus="autofocus"
                               onFocus="geolocate()"
                               placeholder="Adresse à Puteaux">
                    </div>
                    <input type="hidden" name="latitude" id="latitude" placeholder="Latitude"  >
                    <input type="hidden" name="longitude" id="longitude" placeholder="Longitude"  >
                    <div class="form-group">
                        <label for="password">Mot de Passe</label>:
                        <input type="password"
                               id="password"
                               name="password"
                               class="form-control form-control-lg  "
                               placeholder="Mot de passe">
                    </div>
                    <div class="form-group ">
                        <label for="merchantOrNot" th:text="'Vous êtes:'" />
                        <select  id="merchantOrNot" name="merchantOrNot" class="form-control  form-control-lg  ">
                            <option th:value="1" th:text="'Commerçant'" />
                            <option th:value="0" th:text="'Utilisateur'" />
                        </select>
                    </div>
                    <div class="form-group mt-5">
                        <div class="row">
                            <div class="col-sm-6 col-sm-offset-3  mx-auto">
                                <input type="submit"
                                       name="login-submit"
                                       id="login-submit"
                                       class="form-control btn btn-lg btn-info"
                                       value="Création de compte">
                            </div>
                        </div>
                        <div class="row">
                            <div class="mx-auto">
                                <a th:text="'Vous avez déjà un compte?'" th:href="@{/Utilisateurs/connexion}" />
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>
