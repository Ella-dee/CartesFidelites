<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/layout}">
<head>
    <title>Shop Register</title>
    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC3StaLZTw1Tb8vj9COuE1sMMBNh9OEtZ4&libraries=places&components=country:fr&callback=initAutocomplete"
            async defer></script>
    <script type="text/javascript" th:src="@{/js/gmapsauto.js}"></script>
</head>
<body>
<div layout:fragment="content" th:remove="tag" class="container">
    <div class="in-content">
        <div class="row mt-5">
            <h1 class="mb-3 mt-3 mx-auto">Enregistrer une Boutique</h1>
        </div>
        <div class="row">
            <div class="mx-auto col-md-6 mt-4">
                <form th:action="@{/Marchands/add-shop}" method="post" th:object="${addShopDTO}">
                    <td th:if="${errorMessage ne null}">
                        <div class="alert alert-danger">
                            <span  th:text="${errorMessage}"/>
                        </div>
                    </td>
                    <input type="hidden" name="userId" th:value="${sessionId}"/>
                    <div class="form-group">
                        <label for="email">Email</label>:
                        <input type="email"
                               id="email"
                               name="email"
                               class="form-control"
                               autofocus="autofocus"
                               placeholder="Email" required>
                    </div>
                    <div class="form-group">
                        <label for="merchantName">Nom</label>:
                        <input type="test"
                               id="merchantName"
                               name="merchantName"
                               class="form-control"
                               autofocus="autofocus"
                               placeholder="Nom" required>
                    </div>

                    <div class="form-group">
                        <label for="categoryId">Categorie</label>:
                        <select class="form-control" th:field="*{categoryId}" name="categoryId" id="categoryId">
                            <option th:each="c : ${cats}" th:value="${c.getId()}" th:text="${c.getCategoryName()}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="address">Adresse(à Puteaux)</label>:
                        <input type="text"
                               id="address"
                               name="address"
                               class="form-control"
                               autofocus="autofocus"
                               onFocus="geolocate()"
                               placeholder="Adresse à Puteaux" required>
                    </div>
                    <input type="hidden" name="latitude" id="latitude" />
                    <input type="hidden" name="longitude" id="longitude" />
                    <div class="form-group">
                        <label for="points">Points pour avoir une récompense (max 10)</label>:
                        <input type="text"
                               id="points"
                               name="points"
                               class="form-control"
                               autofocus="autofocus"
                               placeholder="Points" required>
                    </div>
                    <div class="form-group mt-5">
                        <div class="row">
                            <div class="col-sm-6 col-sm-offset-3  mx-auto">
                                <input type="submit"
                                       name="login-submit"
                                       id="login-submit"
                                       class="form-control btn btn-lg btn-info"
                                       value="Création de boutique">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>